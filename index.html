<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BibleVersesQuest — Daily </title>
  <meta name="description" content="A daily, Bible-themed Wordle-like. Probe with any 5-letter guess for clues; solve the true KJV answer to reveal the full verse." />
  <meta name="theme-color" content="#0b0f14" />
  <meta property="og:title" content="BibleVerseQuest — Daily (Probe Only)" />
  <meta property="og:description" content="Guess any 5-letter word for clues. Solve the true KJV answer to reveal the verse." />
  <meta property="og:image" content="og-image.png" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="BibleVerseQuest — Daily (Probe Only)" />
  <meta name="twitter:description" content="Guess any 5-letter word for clues. Solve the true KJV answer to reveal the verse." />
  <meta name="twitter:image" content="og-image.png" />
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="manifest" href="manifest.webmanifest" />
  <style>
    :root{
      --bg:#0b0f14; --card:#121821; --tile:#1a2430; --text:#e7eef7; --muted:#91a0b6;
      --correct:#2ea44f; --present:#c6a700; --absent:#2d3a4a; --accent:#4ea1f3;
      --tile-size:44px; --tile-font:16px; --gap:6px;
      --key-pad:8px; --key-font:14px;
      --toast:#0f1a2a; --toast-b:#243e64;
    }
    html,body{height:100%;}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text);display:flex;align-items:center;justify-content:center;}
    .app{width:100%;max-width:760px;padding:20px;}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;gap:10px;flex-wrap:wrap;}
    h1{font-size:22px;letter-spacing:0.5px;margin:0;}
    .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap;}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;font-weight:700;background:#11223a;color:#b5d4ff;border:1px solid #244a7a;}
    .board{display:grid;grid-template-rows:repeat(6,1fr);gap:var(--gap);margin:16px 0 12px;justify-content:center;}
    .row{display:grid;grid-template-columns:repeat(5,var(--tile-size));gap:var(--gap);justify-content:center;}
    .tile{width:var(--tile-size);height:var(--tile-size);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:var(--tile-font);border-radius:10px;background:var(--tile);color:var(--text);text-transform:uppercase;border:1px solid #243142;}
    .tile.revealed.correct{background:var(--correct);border-color:var(--correct);}
    .tile.revealed.present{background:var(--present);border-color:var(--present);}
    .tile.revealed.absent{background:var(--absent);border-color:var(--absent);}

    .kbd{display:grid;grid-template-columns:repeat(10,1fr);gap:8px;user-select:none;margin-bottom:12px;}
    .key{background:var(--card);color:var(--text);border:1px solid #243142;padding:var(--key-pad) 0;border-radius:10px;text-align:center;cursor:pointer;font-weight:600;outline:none;font-size:var(--key-font);}
    .key.wide{grid-column:span 2;}
    .key[data-state="correct"]{background:var(--correct);border-color:var(--correct);}
    .key[data-state="present"]{background:var(--present);border-color:var(--present);}
    .key[data-state="absent"]{background:var(--absent);border-color:var(--absent);}

    .bar{background:var(--card);border:1px solid #243142;padding:10px 12px;border-radius:12px;font-size:14px;color:var(--muted);display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;}
    .msgline{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
    .btn{background:var(--accent);color:#001730;border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;}
    .btn.secondary{background:#6fd1ff;color:#00324d;}
    .small{font-size:12px;color:var(--muted);margin-top:8px;}
    .help-box{background:var(--card);border:1px solid #243142;padding:12px;border-radius:12px;margin-top:8px;display:none;}
    .verse{background:#0f1a2a;border:1px solid #243e64;padding:12px;border-radius:12px;margin-top:10px;white-space:pre-wrap;line-height:1.4;}
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:var(--toast);border:1px solid var(--toast-b);color:#cfe3ff;padding:8px 12px;border-radius:10px;font-size:14px;display:none;z-index:9999;}
    footer{margin-top:10px;font-size:12px;color:#9db7da;display:flex;gap:8px;align-items:center;flex-wrap:wrap;}

    @media (max-width: 480px){
      :root{ --key-pad:4px; --key-font:12px; }
      .kbd{ gap:6px; }
      .key{ border-radius:8px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>BibleVerseQuest — Daily</h1>
      <div class="controls">
        <span id="dailyTag" class="pill">One puzzle per day</span>
        <button class="btn secondary" id="shareBtn" type="button" title="Share today’s result">Share</button>
        <a class="btn" id="donateBtn" href="https://ko-fi.com/youraccount" target="_blank" rel="noopener">Donate</a>
        <button class="btn" id="helpBtn" type="button">Help</button>
      </div>
    </header>

    <div class="board" id="board" aria-label="Game board"></div>
    <div class="kbd" id="kbd" aria-label="On-screen keyboard"></div>

    <div class="bar" id="status">
      <div class="msgline">
        <span id="msg">Any 5-letter guess is accepted for clues. Solve the real KJV answer.</span>
        <span id="countdown" class="small"></span>
      </div>
    </div>
    <div class="help-box" id="helpBox">
      <b>How to play:</b> Any 5-letter guess is allowed; colors reveal letter positions. You still need the real KJV word to win and reveal a full verse.<br><br>
      <b>Donations:</b> Your support helps maintain and expand BibleVerseQuest. Funds go to <i id="donationAccount">Ko-fi: @youraccount</i>.
    </div>
    <div id="verseBox" class="verse" style="display:none;"></div>
    <footer>
      <span>Donations support ongoing development of <b>BibleVerseQuest</b>.</span>
      <span>Funds go to <b id="footerAccount">Ko-fi: @youraccount</b>.</span>
      <span>Thank you!</span>
    </footer>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
  (function(){
    const WORDS = [
      {w:"grace", r:"Ephesians 2:8", v:"For by grace are ye saved through faith; and that not of yourselves: it is the gift of God:"},
      {w:"faith", r:"Hebrews 11:1", v:"Now faith is the substance of things hoped for, the evidence of things not seen."},
      {w:"light", r:"Genesis 1:3", v:"And God said, Let there be light: and there was light."},
      {w:"sheep", r:"John 10:11", v:"I am the good shepherd: the good shepherd giveth his life for the sheep."},
      {w:"bread", r:"Matthew 4:4", v:"But he answered and said, It is written, Man shall not live by bread alone, but by every word that proceedeth out of the mouth of God."},
      {w:"heart", r:"Proverbs 4:23", v:"Keep thy heart with all diligence; for out of it are the issues of life."},
      {w:"altar", r:"Genesis 8:20", v:"And Noah builded an altar unto the LORD; and took of every clean beast, and of every clean fowl, and offered burnt offerings on the altar."},
      {w:"angel", r:"Luke 2:10", v:"And the angel said unto them, Fear not: for, behold, I bring you good tidings of great joy, which shall be to all people."},
      {w:"truth", r:"John 14:6", v:"Jesus saith unto him, I am the way, the truth, and the life: no man cometh unto the Father, but by me."},
      {w:"spake", r:"Exodus 20:1", v:"And God spake all these words, saying,"},
      {w:"sword", r:"Ephesians 6:17", v:"And take the helmet of salvation, and the sword of the Spirit, which is the word of God:"},
      {w:"crown", r:"2 Timothy 4:8", v:"Henceforth there is laid up for me a crown of righteousness, which the Lord, the righteous judge, shall give me at that day: and not to me only, but unto all them also that love his appearing."},
      {w:"olive", r:"Genesis 8:11", v:"And the dove came in to him in the evening; and, lo, in her mouth was an olive leaf pluckt off: so Noah knew that the waters were abated from off the earth."},
      {w:"river", r:"Genesis 2:10", v:"And a river went out of Eden to water the garden; and from thence it was parted, and became into four heads."},
      {w:"mercy", r:"Psalm 23:6", v:"Surely goodness and mercy shall follow me all the days of my life: and I will dwell in the house of the LORD for ever."},
      {w:"house", r:"Joshua 24:15", v:"And if it seem evil unto you to serve the LORD, choose you this day whom ye will serve; whether the gods which your fathers served that were on the other side of the flood, or the gods of the Amorites, in whose land ye dwell: but as for me and my house, we will serve the LORD."},
      {w:"bride", r:"Revelation 21:9", v:"And there came unto me one of the seven angels which had the seven vials full of the seven last plagues, and talked with me, saying, Come hither, I will shew thee the bride, the Lamb's wife."},
      {w:"tribe", r:"Numbers 1:4", v:"And with you there shall be a man of every tribe; every one head of the house of his fathers."}
      {w:"bring", r:"Malachi 3:10", v:"Bring ye all the tithes into the storehouse, that there may be meat in mine house, and prove me now herewith, saith the LORD of hosts, if I will not open you the windows of heaven, and pour you out a blessing, that there shall not be room enough to receive it."},
      {w:"about", r:"Psalm 32:7", v:"Thou art my hiding place; thou shalt preserve me from trouble; thou shalt compass me about with songs of deliverance. Selah."},
      {w:"heard", r:"Psalm 116:1", v:"I love the LORD, because he hath heard my voice and my supplications."},
      {w:"egypt", r:"Matthew 2:15", v:"And was there until the death of Herod: that it might be fulfilled which was spoken of the Lord by the prophet, saying, Out of Egypt have I called my son."},
      {w:"might", r:"1 John 4:9", v:"In this was manifested the love of God toward us, because that God sent his only begotten Son into the world, that we might live through him."},
      {w:"shall", r:"Psalm 23:6", v:"Surely goodness and mercy shall follow me all the days of my life: and I will dwell in the house of the LORD for ever."},
      {w:"their", r:"Hebrews 10:17", v:"And their sins and iniquities will I remember no more."},
      {w:"which", r:"Psalm 118:22", v:"The stone which the builders refused is become the head stone of the corner."},
      {w:"there", r:"Ecclesiastes 3:1", v:"To every thing there is a season, and a time to every purpose under the heaven:"},
      {w:"house", r:"Psalm 122:1", v:"I was glad when they said unto me, Let us go into the house of the LORD."},
      {w:"these", r:"John 20:31", v:"But these are written, that ye might believe that Jesus is the Christ, the Son of God; and that believing ye might have life through his name."},
      {w:"jesus", r:"Matthew 1:21", v:"And she shall bring forth a son, and thou shalt call his name JESUS: for he shall save his people from their sins."},
      {w:"david", r:"Psalm 89:20", v:"I have found David my servant; with my holy oil have I anointed him:"},
      {w:"earth", r:"Psalm 24:1", v:"The earth is the LORD'S, and the fulness thereof; the world, and they that dwell therein."},
      {w:"those", r:"Psalm 92:13", v:"Those that be planted in the house of the LORD shall flourish in the courts of our God."},
      {w:"after", r:"Psalm 63:8", v:"My soul followeth hard after thee: thy right hand upholdeth me."},
      {w:"every", r:"James 1:17", v:"Every good gift and every perfect gift is from above, and cometh down from the Father of lights, with whom is no variableness, neither shadow of turning."},
      {w:"great", r:"Psalm 145:3", v:"Great is the LORD, and greatly to be praised; and his greatness is unsearchable."},
      {w:"forth", r:"Isaiah 55:11", v:"So shall my word be that goeth forth out of my mouth: it shall not return unto me void, but it shall accomplish that which I please, and it shall prosper in the thing whereto I sent it."},
      {w:"place", r:"John 14:2", v:"In my Father's house are many mansions: if it were not so, I would have told you. I go to prepare a place for you."},
      {w:"judah", r:"2 Chronicles 20:17", v:"Ye shall not need to fight in this battle: set yourselves, stand ye still, and see the salvation of the LORD with you, O Judah and Jerusalem: fear not, nor be dismayed; to morrow go out against them: for the LORD will be with you."},
      {w:"heart", r:"Proverbs 3:5", v:"Trust in the LORD with all thine heart; and lean not unto thine own understanding."},
      {w:"moses", r:"Exodus 33:11", v:"And the LORD spake unto Moses face to face, as a man speaketh unto his friend."},
      {w:"among", r:"Psalm 57:9", v:"I will praise thee, O Lord, among the people: I will sing unto thee among the nations."},
      {w:"shalt", r:"Psalm 91:5", v:"Thou shalt not be afraid for the terror by night; nor for the arrow that flieth by day;"},
      {w:"being", r:"Philippians 1:6", v:"Being confident of this very thing, that he which hath begun a good work in you will perform it until the day of Jesus Christ:"}
    ];

    function dateKey(d=new Date()){ const y=d.getFullYear(); const m=String(d.getMonth()+1).padStart(2,"0"); const day=String(d.getDate()).padStart(2,"0"); return `${y}-${m}-${day}`; }
    function dailyIndex(d=new Date()){ const start=new Date(2025,0,1); const oneDay=86400000; const diff=Math.floor((new Date(d.getFullYear(),d.getMonth(),d.getDate())-new Date(start.getFullYear(),start.getMonth(),start.getDate()))/oneDay); const n=WORDS.length; return ((diff % n)+n)%n; }
    function msUntilTomorrow(){ const now=new Date(); const tmr=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,0,0,0,0); return tmr-now; }
    function fmtCountdown(ms){ const s=Math.max(0,Math.floor(ms/1000)); const h=Math.floor(s/3600); const m=Math.floor((s%3600)/60); const ss=s%60; return `${h}h ${String(m).padStart(2,"0")}m ${String(ss).padStart(2,"0")}s`; }

    const board=document.getElementById("board");
    const kbd=document.getElementById("kbd");
    const msg=document.getElementById("msg");
    const countdown=document.getElementById("countdown");
    const helpBtn=document.getElementById("helpBtn");
    const helpBox=document.getElementById("helpBox");
    const verseBox=document.getElementById("verseBox");
    const shareBtn=document.getElementById("shareBtn");
    const donateBtn=document.getElementById("donateBtn");
    const toast=document.getElementById("toast");

    const maxRows=6, size=5;
    const todayKey=dateKey();
    const idx=dailyIndex();
    const target=WORDS[idx];

    const LS=window.localStorage;
    const LS_KEY="bibleversequest_status_v1";
    function loadState(){ try{ return JSON.parse(LS.getItem(LS_KEY) || "{}"); }catch{ return {}; } }
    function saveState(s){ LS.setItem(LS_KEY, JSON.stringify(s)); }
    const state=loadState();
    if(!state[todayKey]) state[todayKey]={ finished:false, rows:[], msg:"", reveals:[] };

    let row=0, col=0;
    const guesses=Array.from({length:maxRows},(_,r)=>{ const saved=state[todayKey].rows?.[r]||[]; return Array.from({length:size},(_,c)=> saved[c]||""); });
    row=Math.min(maxRows, state[todayKey].rows?.length||0); col=0;
    const locked=()=>state[todayKey].finished;

    board.style.gridTemplateRows=`repeat(${maxRows},1fr)`;
    for(let r=0;r<maxRows;r++){
      const rowEl=document.createElement("div"); rowEl.className="row";
      for(let c=0;c<size;c++){ const t=document.createElement("div"); t.className="tile"; t.id=`t-${r}-${c}`; t.setAttribute("role","gridcell"); rowEl.appendChild(t); }
      board.appendChild(rowEl);
    }

    const keysLayout=["QWERTYUIOP","ASDFGHJKL","ZXCVBNM"];
    keysLayout.forEach(line=>line.split("").forEach(ch=>addKey(ch)));
    addKey("Enter",true); addKey("Backspace",true,"Del");
    function addKey(code,wide=false,label=""){ const key=document.createElement("button"); key.className="key"+(wide?" wide":""); key.type="button"; key.textContent=label||code; key.dataset.key=code; key.setAttribute("role","button"); key.tabIndex=0; kbd.appendChild(key); }

    function setMessage(t){ msg.textContent=t; state[todayKey].msg=t; saveState(state); }
    function draw(){ for(let r=0;r<maxRows;r++){ for(let c=0;c<size;c++){ const t=document.getElementById(`t-${r}-${c}`); t.textContent=guesses[r][c]||""; } } }

    function evaluate(guess,answer){
      const res=Array(size).fill("absent"); const a=answer.split(""); const g=guess.split("");
      for(let i=0;i<size;i++){ if(g[i]===a[i]){ res[i]="correct"; a[i]="*"; g[i]="_"; } }
      for(let i=0;i<size;i++){ if(res[i]==="correct") continue; const idx=a.indexOf(g[i]); if(idx>-1){ res[i]="present"; a[idx]="*"; } }
      return res;
    }
    function colorizeRow(r,result){
      for(let c=0;c<size;c++){
        const t=document.getElementById(`t-${r}-${c}`);
        setTimeout(()=>{
          t.classList.add("revealed", result[c]);
          const ch=guesses[r][c]?.toUpperCase();
          if(ch){
            const key=kbd.querySelector(`[data-key='${ch}']`);
            if(key){
              const s=key.getAttribute("data-state");
              if(result[c]==="correct"||(result[c]==="present"&&s!=="correct")||!s){
                key.setAttribute("data-state",result[c]);
              }
            }
          }
        }, c*90);
      }
    }
    function revealVerse(){ verseBox.style.display="block"; verseBox.textContent=`${target.r} — ${target.v}`; }

    function submit(){
      if(locked()){ setMessage("You've played today's puzzle. Come back tomorrow!"); return; }
      if(col<size){ setMessage("Not enough letters."); return; }
      const guess=guesses[row].join("");
      if(!/^[a-z]{5}$/.test(guess)){ setMessage("Letters only (A–Z)."); return; }

      const isKJV=WORDS.some(x=>x.w===guess);
      const result=evaluate(guess,target.w);
      colorizeRow(row,result);
      const win=result.every(x=>x==="correct");

      state[todayKey].rows=guesses.map(r=>r.slice());
      state[todayKey].reveals=state[todayKey].reveals||[];
      state[todayKey].reveals[row]=result.slice();
      saveState(state);

      if(win){
        setMessage(`Solved! “${target.w.toUpperCase()}” — ${target.r} (KJV)`);
        revealVerse();
        state[todayKey].finished=true; saveState(state);
        return;
      }
      row++; col=0;
      if(row===maxRows){
        setMessage(`Answer: “${target.w.toUpperCase()}” — ${target.r} (KJV)`);
        revealVerse();
        state[todayKey].finished=true; saveState(state);
      }else{
        if(isKJV){ setMessage("Good! That’s a KJV word. Keep going…"); }
        else { setMessage("Probe accepted (not in KJV). Use the colors as clues."); }
      }
    }

    function input(ch){
      if(locked()) return;
      if(ch==="Enter"){ submit(); return; }
      if(ch==="Backspace"){
        if(col>0){ col--; guesses[row][col] = ""; draw(); persistTyping(); }
        return;
      }
      if(!/^[A-Za-z]$/.test(ch)) return;
      if(col<size){
        guesses[row][col] = ch.toLowerCase();
        col++; draw(); persistTyping();
      }
    }

    function persistTyping(){
      state[todayKey].rows = guesses.map(r=>r.slice());
      saveState(state);
    }

    kbd.addEventListener("click", (e) => {
      const key = e.target.closest(".key");
      if(!key) return;
      input(key.dataset.key.length===1 ? key.dataset.key : key.dataset.key);
    });
    window.addEventListener("keydown", (e) => {
      input(e.key.length===1 ? e.key.toUpperCase() : e.key);
    });

    helpBtn.addEventListener("click", () => {
      helpBox.style.display = (helpBox.style.display === "block") ? "none" : "block";
    });

    function buildShareGrid(){
      const map = { correct:"🟩", present:"🟨", absent:"⬜" };
      const rows = (state[todayKey].reveals || []).filter(Boolean).map(arr => arr.map(x => map[x]||"⬜").join(""));
      const status = state[todayKey].finished ? `${rows.length}/6` : `X/6`;
      const title = `BibleVerseQuest — Daily ${todayKey} ${status}`;
      const url = location.href;
      return `${title}\n${rows.join("\n")}\n${url}`.trim();
    }

    function showToast(t){
      const el = document.getElementById("toast");
      el.textContent = t;
      el.style.display = "block";
      setTimeout(()=>{ el.style.display="none"; }, 2200);
    }

    document.getElementById("shareBtn").addEventListener("click", async () => {
      const text = buildShareGrid();
      try{
        if(navigator.share && /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)){
          await navigator.share({ text });
          return;
        }
      }catch{}
      try{
        await navigator.clipboard.writeText(text);
        showToast("Copied result to clipboard!");
      }catch{
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select(); document.execCommand("copy");
        document.body.removeChild(ta);
        showToast("Copied result to clipboard!");
      }
    });

    draw();
    if(state[todayKey].msg){ msg.textContent = state[todayKey].msg; }
    if(state[todayKey].finished){ revealVerse(); }

    function tick(){
      const ms = msUntilTomorrow();
      countdown.textContent = "Next puzzle in " + fmtCountdown(ms);
      requestAnimationFrame(()=>setTimeout(tick, 250));
    }
    tick();

    if('serviceWorker' in navigator){
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js').catch(()=>{});
      });
    }
  })();
  </script>
</body>
</html>
